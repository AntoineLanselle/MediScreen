<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>MediScreen - Patient Details</title>
<link rel="stylesheet" type="text/css"
	href="webjars/bootstrap/4.0.0-2/css/bootstrap.min.css" />
</head>

<body>
	<div class="container">
		<h1>Application MediScreen</h1>
		
		<form method="GET" action="/patient" >
  			<button type="submit" formmethod="GET"> &lt;- Back to patients list</button>
  		</form>

		<form method="POST" th:object="${patientBean}">

			<div class="input">
				<label for="given">Firstname</label> 
				<input class="sec-2" name="given" type="text" placeholder="Firstname" th:value="${patient.given}" required />
			</div>

			<div class="input">
				<label for="family">Lastname</label> 
				<input class="sec-2" name="family" type="text" placeholder="Lastname" th:value="${patient.family}" required />
			</div>

			<div class="input">
				<label for="dob">Date Of Birth</label> 
				<input class="sec-2" name="dob" type="date" th:value="${patient.dob}" required />
			</div>

			<fieldset th:switch="${patient.sex}">
				<legend>Gender:</legend>
				<div th:case="F">
					<input class="sec-2" id="sexChoice1" name="sex" type="radio" value="F" checked required />
					<label for="sexChoice1">Femme</label> 
					<input class="sec-2" id="sexChoice2" name="sex" type="radio" value="H" required /> 
					<label for="sexChoice2">Homme</label> 
				</div>
				<div th:case="H">
					<input class="sec-2" id="sexChoice1" name="sex" type="radio" value="F" required />
					<label for="sexChoice1">Femme</label> 
					<input class="sec-2" id="sexChoice2" name="sex" type="radio" value="H" checked required /> 
					<label for="sexChoice2">Homme</label> 
				</div>
			</fieldset>
			
			<div class="input">
				<label for="address">Address</label> 
				<input class="sec-2" name="address" type="text" placeholder="Address" th:value="${patient.address}"/>
			</div>

			<div class="input">
				<label for="phone">Phone Number</label> 
				<input class="sec-2" name="phone" type="text" placeholder="012-345-6789" th:value="${patient.phone}" />
			</div>

			<div class="error" th:if="${param.success}">
				<p>Modifications successfully done!</p>
			</div>

			<div class="error" th:if="${param.error}">
				<p>Put valid infos.</p>
			</div>

			<button name="patientBean" type="submit" formmethod="POST">Modify</button>

		</form>
		
		<form method="POST" th:action="@{/patient/delete/{id}(id=${patient.id})}">
			<button name="deletePatient" type="submit" formmethod="POST">Delete</button>
		</form>
		
	</div>
	<script type="text/javascript"
		src="webjars/bootstrap/4.0.0-2/js/bootstrap.min.js"></script>
</body>
</html>